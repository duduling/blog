---
slug: 개발-환경-자동화-세팅
title: Brewfile을 이용한 개발 환경 자동화 세팅 구축기 (Macbook - M1)
author: Duduling
author_title: Front-end Web Developer
author_url: https://github.com/duduling
author_image_url: https://avatars.githubusercontent.com/u/60775011?v=4
tags: [Homebrew, Brewfile, DevOps, Setting, Macbool, M1]
---

![Macbook 자동화 세팅 구축하기](https://drive.google.com/uc?export=download&id=1jtECcytyqeRjTE4laCaKQHbnDgqZkLuF)

## 서론

회사에서 M1 맥북을 새로 받았는데 기존에 있던 온보딩 문서가 오래 되기도 했고 새로 설치하면서 정리하고 싶은 욕구가 생겼다.
그렇게 생각을 하던 도중 뭔가 이런 것을 sh로 개발 환경 자동화 세팅을 해 놓으면 앞으로도 누구라도 맥북을 받아서 개발 환경을 빠르게 세팅 할 수 있지 않을까? 싶은 생각에 도전하게 되었다.

총 분류는 3가지로 나누어져 있다. 내가 프론이기에 백엔드 부분의 툴까지는 정확히 모르고 프론트 중심으로 설정을 했다.
(추 후 백엔드의 이야기를 들어보니 백엔드는 IntelliJ로 모든 것을 한다고 한다.. 👍🏻)

그럼 시작! 😎

## 1. Common

### 1 - 1. Homebrew

```bash
# Install brew
> /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"

> echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zshrc
> eval "$(/opt/homebrew/bin/brew shellenv)"
```

### 1 - 2. dev.Brewfile

```bash
# Common
brew "cask"
brew "mas"

brew "kubectl"
brew "kubectx"

cask "iterm2"
cask "lens"
cask "docker"
cask "tunnelblick"
cask "mysqlworkbench"

cask "notion"
cask "gather"

brew "nvm"
cask "firefox"
cask "brave-browser"
cask "google-chrome"
cask "webstorm"
cask "visual-studio-code"

cask "zeplin"
cask "postman"

cask "hyper"
cask "spectacle"
cask "gitkraken"
cask "sublime-text"

cask "alfred"
cask "appcleaner"
cask "telegram"
cask "dropbox"
cask "aldente"

mas "Slack", id: 803453959
mas "KakaoTalk", id: 869223134
mas "Keka" id: 470158793
mas "Microsoft To Do" id: 1274495053
mas "AutoMute - No More Oopsies" id: 1118136179
```

> 입맛에 따라 추가하고 빼셔서 구축하시면 됩니다.

```bash
# 위 파일을 실행
> brew bundle --file=${./dev.Brewfile}
```

**위 파일로 목록들을 정리해 한번에 brew install을 할 수 있다.**

## 2. ZSH

### 2 - 1. oh-my-zsh

```bash
sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
```

### 2 - 2. zsh plugins

```bash
# Install zsh-completions
> git clone https://github.com/zsh-users/zsh-completions ${ZSH_CUSTOM:=~/.oh-my-zsh/custom}/plugins/zsh-completions

# Install zsh-autosuggestions
> git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions

# Install zsh-syntax-highlighting
> git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

# Install zsh-history-substring-search
> git clone https://github.com/zsh-users/zsh-history-substring-search ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-history-substring-search
```

- ~/.zshrc

    ```bash
    plugins=(
    	...
    	zsh-completions
        zsh-autosuggestions
    	zsh-syntax-highlighting
    	zsh-history-substring-search
    )
    
    autoload -U compinit && compinit
    
    # Custom Zsh
    
    # Remove computer name
    prompt_context() {
     if [[ "$USER" != "$DEFAULT_USER" || -n "$SSH_CLIENT" ]]; then
     	prompt_segment black default "%(!.%{%F{yellow}%}.)$USER"
     fi 
    }
    
    # Add random emoji
    prompt_context() {
      # Custom (Random emoji)
      emojis=("⚡️" "🔥" "🇰" "👑" "😎" "🐸" "🐵" "🦄" "🌈" "🍻" "🚀" "💡" "🎉" "🔑"  "🚦" "🌙")
      RAND_EMOJI_N=$(( $RANDOM % ${#emojis[@]} + 1))
      prompt_segment black default "Your name ${emojis[$RAND_EMOJI_N]} "
    }
    ```

### 3. Hyper (Option)

- ~/.hyper.js

    ```jsx
    // Future versions of Hyper may add additional config options,
    // which will not automatically be merged into this file.
    // See https://hyper.is#cfg for all currently supported options.
    
    module.exports = {
      config: {
        opacity: {
          focus: 0.98,
          blur: 0.9
        },
        // choose either `'stable'` for receiving highly polished,
        // or `'canary'` for less polished but more frequent updates
        updateChannel: 'stable',
    
        // default font size in pixels for all tabs
        fontSize: 16,
    
        // font family with optional fallbacks
        fontFamily: 'D2coding, Menlo, "DejaVu Sans Mono", Consolas, "Lucida Console", monospace',
    
        // default font weight: 'normal' or 'bold'
        fontWeight: 'normal',
    
        // font weight for bold characters: 'normal' or 'bold'
        fontWeightBold: 'bold',
    
        // line height as a relative unit
        lineHeight: 1,
    
        // letter spacing as a relative unit
        letterSpacing: 0,
    
        // terminal cursor background color and opacity (hex, rgb, hsl, hsv, hwb or cmyk)
        cursorColor: 'rgba(248,28,229,0.8)',
    
        // terminal text color under BLOCK cursor
        cursorAccentColor: '#000',
    
        // `'BEAM'` for |, `'UNDERLINE'` for _, `'BLOCK'` for █
        cursorShape: 'BLOCK',
    
        // set to `true` (without backticks and without quotes) for blinking cursor
        cursorBlink: false,
    
        // color of the text
        foregroundColor: '#fff',
    
        // terminal background color
        // opacity is only supported on macOS
        backgroundColor: '#000',
    
        // terminal selection color
        selectionColor: 'rgba(248,28,229,0.3)',
    
        // border color (window, tabs)
        borderColor: '#333',
    
        // custom CSS to embed in the main window
        css: '',
    
        // custom CSS to embed in the terminal window
        termCSS: '',
    
        // if you're using a Linux setup which show native menus, set to false
        // default: `true` on Linux, `true` on Windows, ignored on macOS
        showHamburgerMenu: '',
    
        // set to `false` (without backticks and without quotes) if you want to hide the minimize, maximize and close buttons
        // additionally, set to `'left'` if you want them on the left, like in Ubuntu
        // default: `true` (without backticks and without quotes) on Windows and Linux, ignored on macOS
        showWindowControls: '',
    
        // custom padding (CSS format, i.e.: `top right bottom left`)
        padding: '12px 14px 24px',
    
        // the full list. if you're going to provide the full color palette,
        // including the 6 x 6 color cubes and the grayscale map, just provide
        // an array here instead of a color map object
        colors: {
          black: '#000000',
          red: '#ff5c86',
          green: '#24eaf0',
          yellow: '#ffbe69',
          blue: '#4996ff',
          magenta: '#9e84ff',
          cyan: '#2ddfff',
          white: '#e9ebf4',
          lightBlack: '#000000',
          lightRed: '#ff5c86',
          lightGreen: '#24eaf0',
          lightYellow: '#ffbe69',
          lightBlue: '#4996ff',
          lightMagenta: '#9e84ff',
          lightCyan: '#2ddfff',
          lightWhite: '#e9ebf4'
        },
    
        // the shell to run when spawning a new session (i.e. /usr/local/bin/fish)
        // if left empty, your system's login shell will be used by default
        //
        // Windows
        // - Make sure to use a full path if the binary name doesn't work
        // - Remove `--login` in shellArgs
        //
        // Bash on Windows
        // - Example: `C:\\Windows\\System32\\bash.exe`
        //
        // PowerShell on Windows
        // - Example: `C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`
        shell: '',
    
        // for setting shell arguments (i.e. for using interactive shellArgs: `['-i']`)
        // by default `['--login']` will be used
        shellArgs: ['--login'],
    
        // for environment variables
        env: {},
    
        // set to `false` for no bell
        bell: 'SOUND',
    
        // if `true` (without backticks and without quotes), selected text will automatically be copied to the clipboard
        copyOnSelect: false,
    
        // if `true` (without backticks and without quotes), hyper will be set as the default protocol client for SSH
        defaultSSHApp: true,
    
        // if `true` (without backticks and without quotes), on right click selected text will be copied or pasted if no
        // selection is present (`true` by default on Windows and disables the context menu feature)
        quickEdit: false,
    
        // choose either `'vertical'`, if you want the column mode when Option key is hold during selection (Default)
        // or `'force'`, if you want to force selection regardless of whether the terminal is in mouse events mode
        // (inside tmux or vim with mouse mode enabled for example).
        macOptionSelectionMode: 'vertical',
    
        // URL to custom bell
        // bellSoundURL: 'http://example.com/bell.mp3',
    
        // Whether to use the WebGL renderer. Set it to false to use canvas-based
        // rendering (slower, but supports transparent backgrounds)
        webGLRenderer: true,
    
        // for advanced config flags please refer to https://hyper.is/#cfg
      },
    
      // a list of plugins to fetch and install from npm
      // format: [@org/]project[#version]
      // examples:
      //   `hyperpower`
      //   `@company/project`
      //   `project#1.0.1`
      plugins: [
        "hyper-search",
        "hypercwd",
        "hyper-tabs-enhanced",
        "hyper-opacity",
        "hyper-fading-scrollbar",
        "hyper-highlight-active-pane",
        "hyper-quit",
        "hyperterm-final-say",
        "hyper-statusline",
        "hyper-oceanic-next",
        "hyper-material-theme",
        "hyperborder"
      ],
    
      // in development, you can create a directory under
      // `~/.hyper_plugins/local/` and include it here
      // to load it and avoid it being `npm install`ed
      localPlugins: [],
    
      keymaps: {
        // Example
        // 'window:devtools': 'cmd+alt+o',
      },
    }
    ```


## 2. Front

### 2 - 1. Install NVM

```bash
> brew install nvm
```

- ~/.zshrc

    ```bash
    ...
    
    # NVM
     export NVM_DIR="$HOME/.nvm"
    [ -s "/opt/homebrew/opt/nvm/nvm.sh" ] && \. "/opt/homebrew/opt/nvm/nvm.sh"  # This loads nvm
    [ -s "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm" ] && \. "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm"  # This loads nvm bash_completion
    ```


```bash
> nvm install ${version}
```

### 2 - 2. Install npm 

```bash
> npm i -g lerna
```

### 2 - 3. VsCode Extension

- extensions.list

    ```bash
    
    # Duduling's pick
    # 컨트롤 + 옵션 + L 누르면 콘솔 만들어 줌
    ChakrounAnas.turbo-console-log
    # 프로젝트별로 대시보드 만들어서 보는 플러그인
    kruemelkatze.vscode-dashboard
    # Git 쓰려면 무적권
    eamodio.gitlens
    # 협업 할 때 서로 라이브 코딩 플러그인
    ms-vsliveshare.vsliveshare
    
    # html 태그 래핑 플러그인
    hwencc.html-tag-wrapper
    # html 태그 자동 닫기 플러그인
    formulahendry.auto-close-tag
    # tag 세트로 이름 같이 바꿔주는 플러그인
    formulahendry.auto-rename-tag
    # 색상 코드를 색상으로 보여주는 플러그인
    naumovs.color-highlight
    # 괄호 색으로 엮어주는 플러그인
    CoenraadS.bracket-pair-colorizer
    # class 이름 짓는거 도와 줌
    Zignd.html-css-class-completion
    
    # SVG 프리뷰
    cssho.vscode-svgviewer
    # env 관련 플러그인
    mikestead.dotenv
    # html 브라우저로 열어주는 플러그인
    techer.open-in-browser
    # 마크 다운 프리뷰 플러그인
    bierner.markdown-preview-github-styles
    # 자동 임포트 경로 찾아주는 플러그인
    NuclleaR.vscode-extension-auto-import
    
    # 코드 작성 및 도움을 주는 플러그인s
    dbaeumer.vscode-eslint
    esbenp.prettier-vscode
    dsznajder.es7-react-js-snippets
    VisualStudioExptTeam.vscodeintellicode
    
    # Material Theme 관련 플러그인s
    Equinusocio.vsc-community-material-theme
    Equinusocio.vsc-material-theme
    PKief.material-icon-theme
    ```

> 해당 파일을 복사해서 밑에와 같이 실행 시키면 된다.

```bash
> cat ${extensions.list} |% { code --install-extension $_}
```

## 3. ETC

### 3 - 1. 하단 Dock 지연 없이 숨기기

```bash
> defaults write com.apple.dock autohide -bool true && defaults write com.apple.dock autohide-delay -float 0 && defaults write com.apple.dock autohide-time-modifier -float 0.75 && killall Dock
```

이렇게 하면 거의 80% 정도는 세팅이 끝난다. 추 후에는 이제 각 프로그램 안에서 세부 설정을 진행하면 된다.
사실 아예 자동화를 만들려고 했지만 오히려 더 세부적으로 만지기 더 불편할 것 같아 그냥 놔뒀다. 앞으로 이 글만 남아 있다면 세팅하는 것이 별로 귀찮은 일이 아닐 것 같다.