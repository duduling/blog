# 신규 아이디 추천

## Solution

```js
function solution(new_id) {
  function solution(new_id) {
    let answer = new_id;

    answer = answer
      // 1단계 - 대문자 -> 소문자로
      .replace(/[A-Z]/g, (word) => word.toLowerCase())
      // 2단계 - 알파벳 소문자, 숫자, 빼기(-), 밑줄(_), 마침표(.) -> 공백
      .replace(/[^a-z0-9-_.]/g, "")
      // 3단계 - 마침표(.)가 2번 이상 연속된 부분 -> 하나의 마침표(.)
      .replace(/[.]{2,}/g, ".")
      // 4단계 - 마침표(.)가 처음이나 끝에 위치 -> 공백
      .replace(/(^[.])|([.]$)/g, "");

    // 5단계 - 빈 문자열 -> 'a'
    if (!answer) answer = "a";

    answer = answer
      // 6단계 - new_id의 길이가 16자 이상이면, new_id의 첫 15개의 문자를 제외한 나머지 문자들을 모두 제거 (4단계보다 선행 되어야 함)
      .slice(0, 15)
      // 4단계(Re) - 마침표(.)가 처음이나 끝에 위치 -> 공백 -> 잘라내기 후에 다시 붙었을 수도 있음
      .replace(/(^[.])|([.]$)/g, "");

    // 7단계 - new_id의 길이가 2자 이하라면 -> 1자리 or 2자리 -> 마지막 문자 길이가 3 될 때까지 반복해서 끝에 붙입니다.
    const lastWordRepeat = 3 - answer.length;

    if (lastWordRepeat > 0) {
      answer = answer + answer[answer.length - 1].repeat(lastWordRepeat);
    }

    return answer;
  }
}
```

## Other Solution

```js
const solution = (new_id) => {
  const id = new_id
    .toLowerCase()
    .replace(/[^\w\d-_.]/g, "")
    .replace(/\.{2,}/g, ".")
    .replace(/^\.|\.$/g, "")
    .padEnd(1, "a")
    .slice(0, 15)
    .replace(/^\.|\.$/g, "");
  return id.padEnd(3, id[id.length - 1]);
};
```

다른 분의 풀이인데 진짜 깔끔해서 가져왔다...

### References

- [Programmers - 신규 아이디 추천](https://programmers.co.kr/learn/courses/30/lessons/72410)
- [MDN - String.prototype.padEnd()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/String/padEnd)
