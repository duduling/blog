---
slug: connect-utteranc
title: "[ê°œë°œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸° 1íƒ„] Docusaurusì— Utterance ì—°ë™í•˜ê¸° (ëŒ“ê¸€ì´ í•„ìš”í•´)"
author: Duduling
author_title: Front-end Web Developer
author_url: https://github.com/duduling
author_image_url: https://avatars.githubusercontent.com/u/60775011?v=4
tags: [Blog, Front-end, ETC]
---

![Thumbnail](https://duduling.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff668dc04-1acc-4959-8c1c-b25a76d73b54%2FUntitled.png?table=block&id=408a77de-cba5-462d-9f95-09dda43af223&spaceId=8259e9c1-b7e6-4ae4-9d6b-d6e45ea177ce&width=2000&userId=&cache=v2)

## Intro

ì›ë˜ ê¸°ì¡´ì—ëŠ” `Utterance`ê°€ UI ì ìœ¼ë¡œ ì´ì˜ê¸°ë„ í•˜ê³  ì‚¬ìš©í•˜ê³  ì‹¶ì—ˆì§€ë§Œ Repositoryë¥¼ ê³µê°œë¡œ í•´ì•¼ í•œë‹¤ëŠ” ë¶€ë¶„ ë•Œë¬¸ì— `Disqus`ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í–ˆë‹¤. í•˜ì§€ë§Œ `Algoria`ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì–´ì°¨í”¼ Repositoryë¥¼ Publicìœ¼ë¡œ í•´ì•¼ í•˜ê¸°ì— ë‹¤ì‹œ `Utterance`ë¡œ ì—°ë™í–ˆë‹¤. ê·¸ëƒ¥ ì—°ë™í•˜ë©´ ë  ê²ƒ ê°™ì•˜ëŠ”ë° ì¤‘ê°„ì— ìƒê¸´ ì‘ì€ ë¬¸ì œ ëª‡ ê°€ì§€ê°€ ìˆì–´ì„œ ë‹¤ë¥¸ ë¶„ë“¤ì—ê²Œ ë„ì›€ì„ ì£¼ê¸° ìœ„í•´ í¬ìŠ¤íŒ…í•œë‹¤.

## Utterance

ë¨¼ì € `Utterances`ëŠ” GitHub Issue ê¸°ë°˜ìœ¼ë¡œ ëŒ“ê¸€ì„ ì‘ì„±í•˜ëŠ” ë°©ì‹ì´ë‹¤.

### Utterancesì˜ ì¥ì 

1. ê´€ë¦¬í•˜ëŠ” ì‚¬ëŒì´ë‚˜ ì´ìš©í•˜ëŠ” ì‚¬ëŒì´ë‚˜ ì‚¬ìš© ë°©ë²•ì— ëŒ€í•´ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ìµí ìˆ˜ ìˆë‹¤. (Github Issueë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸)
2. ëŒ“ê¸€ì„ Markdown ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
3. ì—°ë™ì´ ê°„ë‹¨í•˜ë‹¤. (ì œê°€ ë°‘ì—ì„œ ìì„¸íˆ ì„¤ëª…í•  ì˜ˆì •ì´ê¸° ë•Œë¬¸ì— ë” ì‰½ì¥¬?)
4. Githubì´ë¼ëŠ” í”Œë«í¼ì— ì¢…ì†ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ëŒ“ê¸€ì— ëŒ€í•œ ì•Œë¦¼ ë° ì›¹í›…(WebHook) ì²˜ë¦¬ë„ ê°€ëŠ¥í•˜ë‹¤.
5. **ì œì¼ ì¤‘ìš”í•œ ì´ìœ  -> ì´ì˜ë‹¤.**

ë­ ë‹¤ì–‘í•œ ì˜ê²¬ë“¤ì´ ìˆì§€ë§Œ ì¸í„°ë„·ì— ë‚˜ì˜¨ ì—¬ëŸ¬ ì‚¬ìš©ìì˜ ì˜ê²¬ê³¼ ë‚˜ì˜ ì˜ê²¬ì„ ì¢…í•©í•˜ë©´ ì´ ì •ë„ê°€ ë˜ëŠ” ê²ƒ ê°™ë‹¤.

## Connect the Utterance to Docusaurus

### 1. Utteranceì— ë ˆí¬ì§€í† ë¦¬ ê¶Œí•œ ìœ„ì„í•˜ê¸°

Docusaurusì— ë¶™ì´ë ¤ë©´ ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤.

ë¨¼ì € [Go to Utterance](https://utteranc.es/)ì— ë“¤ì–´ê°€ì„œ Utteranceì— ë‚˜ì˜ Repositoryì˜ ê¶Œí•œì„ ìœ„ì„í•œë‹¤.

### 2. Comment Component ìƒì„±í•˜ê¸°

```js
// src/components/Comment.js
import React, { useEffect, useRef } from "react";

const REPOSITORY_NAME = `username/example`;

function Comment() {
  const containerRef = useRef(null);

  useEffect(() => {
    (function () {
      const script = document.createElement("script");

      script.src = "https://utteranc.es/client.js";
      script.setAttribute("repo", REPOSITORY_NAME);
      script.setAttribute("issue-term", "title");
      script.setAttribute("label", "comment");
      script.setAttribute("theme", `github-light`); // OPTIONAL [github-light, github-dark]
      script.crossOrigin = "anonymous";
      script.async = true;

      containerRef.current.appendChild(script);
    })();
  }, []);

  return <div ref={containerRef} />;
}

export default Comment;
```

### 3. Eject Blog & Docs Component

ìì‹ ì˜ í…œí”Œë¦¿ì— ë§ê²Œ í•´ì£¼ë©´ ëœë‹¤. (`BlogPostPage`ì™€ `DocItem` ë‘˜ ë‹¤ í•  í•„ìš”ëŠ” ì—†ë‹¤.)

ì•„ë˜ì— ëª…ë ¹ì–´ë¥¼ í•˜ë‚˜ì”© ì…ë ¥í•´ì¤€ë‹¤.

```bash
> yarn run swizzle @docusaurus/theme-classic DocItem --danger

> yarn run swizzle @docusaurus/theme-classic BlogPostPage --danger
```

ê·¸ëŸ¬ë©´ ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜¤ëŠ”ë° **Eject**ë¥¼ í•´ì¤€ë‹¤.

```bash
--- Example View
? Which swizzle action do you want to do? â€º - Use arrow-keys. Return to submit.
    Wrap (Unsafe)
â¯   Eject (Unsafe)
    [Exit]
---
```

### 4. Custom BlogPostPage & DocItem

ì›í•˜ëŠ” ë¶€ë¶„ì— `<Comment>` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚½ì…í•´ ì£¼ë©´ ëœë‹¤.

### 5. Responsive Theme

ì‚¬ìš©í•˜ë‹¤ ë³´ë‹ˆ ë‚´ í™ˆí˜ì´ì§€ëŠ” Lightì™€ Darkê°€ ìˆì–´ì„œ ëŒ“ê¸€ì˜ í…Œë§ˆê°€ ì•ˆ ì–´ìš¸ë¦¬ëŠ” ë³€ìˆ˜ê°€ ìˆì—ˆë‹¤. ê·¸ë˜ì„œ Comment ë¶€ë¶„ì„ ì¡°ê¸ˆ ìˆ˜ì •í–ˆë‹¤.

```js
import React, { useEffect, useRef } from "react";
import { useColorMode } from "@docusaurus/theme-common";

function Comment() {
  const containerRef = useRef(null);
  const { colorMode } = useColorMode();

  useEffect(() => {
    (function () {
      const script = document.createElement("script");

      script.src = "https://utteranc.es/client.js";
      script.setAttribute("repo", "duduling/blog");
      script.setAttribute("issue-term", "title");
      script.setAttribute("label", "comment");
      script.setAttribute("theme", `github-${colorMode}`);
      script.crossOrigin = "anonymous";
      script.async = true;

      containerRef.current.appendChild(script);
    })();
  }, []);

  // #region - í˜„ì¬ í…Œë§ˆì— ë”°ë¥¸ utterances í…Œë§ˆ ë³€ê²½
  useEffect(() => {
    const utterancesFrameEl = document.querySelector(".utterances-frame");

    if (utterancesFrameEl) {
      utterancesFrameEl.src = utterancesFrameEl.src.replace(
        `github-${colorMode === "light" ? "dark" : "light"}`,
        `github-${colorMode}`
      );
    }
  }, [colorMode]);
  // #endregion

  return <div ref={containerRef} />;
}

export default Comment;
```

Utteranceì˜ Iframeì„ ì°¾ì•„ì„œ Themeì„ ë³€ê²½í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤.

### Error @theme/hooks/useThemeContext

```js
// Legacy Code
import useThemeContext from "@theme/hooks/useThemeContext";
const { isDarkTheme } = useThemeContext();

// Current
import { useColorMode } from "@docusaurus/theme-common";
const { colorMode } = useColorMode();
```

ì¤‘ê°„ì— isDarkThemeë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ê³„ì† ì˜¤ë¥˜ê°€ ë‚¬ëŠ”ë° ì°¾ë‹¤ ë³´ë‹ˆ ë³€ê²½ëœ ë¶€ë¶„ì´ ìˆì–´ì„œ ê°™ì´ ì˜¬ë¦°ë‹¤.

### Outro

í˜¹ì‹œ í•˜ë©´ì„œ ê¶ê¸ˆí•œ ë¶€ë¶„ ìˆìœ¼ë©´ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”! ê°™ì´ ê³ ë¯¼í•´ ë³´ê² ìŠµë‹ˆë‹¤! ğŸ”¥

## Reference

[https://younho9.dev/docusaurus-manage-docs-2](https://younho9.dev/docusaurus-manage-docs-2)
